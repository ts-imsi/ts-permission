<script type="text/javascript" src="/authManage/templates/roleManage/roleManage.js"></script>
<script type="text/javascript" src="/javascripts/util/Entity.js"></script>
<script type="text/ng-template" id="addRole.html">
    <div class="modal-header">
		<h3>{{title}}</h3>
	</div>
	<div class="modal-body" style="width: 280px;">
		<form name="dataForm">
			<table>
				<p ng-init="operationObj.datasource = 'rights'" />
				<tr style="float:left;">
					<td><label style="width:60px;">角色名称:</label><input type="text" required ng-model="operationObj.name" /></td>
				</tr>
			</table>
 		</form>
	</div>
	<div class="modal-footer">
		<button ng-click="saveRole(operationObj)" class="btn btn-primary" ng-disabled="dataForm.$invalid">保存</button>
		<button ng-click="close()" class="btn btn-primary" >取消</button>
	</div>
</script>
<script type="text/ng-template" id="addScope.html">
    <div class="modal-header">
		<h3>{{title}}</h3>
	</div>
	<div class="modal-body" style="width: 280px;">
		<form name="addForm">
			<table>
				<tr><td>范围名称:<input type="text" required ng-model="roleScope.scopeName"></td></tr>
				<tr><td>范围标识:<input type="text" required ng-model="roleScope.scopeSign"></td></tr>
				<tr><td>范围连接:<input type="text" required ng-model="roleScope.scopeUrl"></td></tr>
			</table>
 		</form>
	</div>
	<div class="modal-footer">
		<button ng-click="saveScope(roleScope)" class="btn btn-primary" ng-disabled="addForm.$invalid">保存</button>
		<button ng-click="close()" class="btn btn-primary" >取消</button>
	</div>
</script>
<script type="text/ng-template" id="queryInfo.html">
    <div class="modal-header">
		<h3>{{title}}</h3>
	</div>
	<div class="modal-body" style="width: 280px;">
		<form name="queryForm">
			<table>
				<tr style="float:left;">
					<td><label style="width:60px;">角色名称:</label><input required type="text" ng-model="operationObj.name" /></td>
				</tr>
			</table>
 		</form>
	</div>
	<div class="modal-footer">
		<button ng-click="queryInfo(operationObj)" class="btn btn-primary" ng-disabled="queryForm.$invalid">查询</button>
		<button ng-click="close()" class="btn btn-primary" >取消</button>
	</div>

</script>
<script type="text/ng-template" id="updateRoleScope.html">
    <div class="modal-header">
		<h3>{{title}}</h3>
		{{flag}}
	</div>
	<div class="modal-body" style="width: 375px;">
		<form name="dataForm">
			<table>
				<tr style="float:left;">
					<td><label style="width:70px;margin-left:0px;font-size:16px;">角色名称:</label><input type="text" ng-model="selection.name" /></td>
				</tr>
			</table>
			<fieldset style="width: 350px" ng-show="isShow">
				<legend  style="line-height:30px;font-size:18px;margin-bottom:8px;">添加范围</legend>
				<table>
					<tr><td>范围名称:<input type="text" ng-model="selection.scopeName"></td></tr>
					<tr><td>范围标识:<input type="text" ng-model="selection.scopeSign"></td></tr>
					<tr><td>范围连接:<input type="text" ng-model="selection.scopeUrl"></td></tr>
				</table>
			</fieldset>
 		</form>
	</div>
	<div class="modal-footer">
		<button ng-click="updateRoleScope(selection)" class="btn btn-primary">修改</button>
		<button ng-click="close()" class="btn btn-primary" >取消</button>
	</div>
</script>
<div ng-controller="roleManageCtrl">
	<div class="btn-group">
		<button type="button" class="btn" ng-click="query()"><i class="icon-film"></i>查询</button>
		<button type="button" class="btn" ng-click="detailQuery('详细查询')"><i class="icon-zoom-in"></i>详细查询</button>
	    <button type="button" class="btn" ng-click="insert('新增记录')"><i class="icon-plus-sign"></i>新增</button>
	    <button type="button" class="btn" ng-click="updateRoleScope('修改')"><i class="icon-edit"></i>修改</button>
	    <button type="button" class="btn" ng-click="deleteScope()"><i class="icon-trash"></i>删除</button>
	    <!--<button type="button" class="btn" ng-click="addScope('添加范围')"><i class="icon-fire"></i>添加范围</button>-->
	</div>
	<div class="gridStyle" ng-grid="gridOptions"></div>
</div>